<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-terminal-4.7.4">
     
     
    <link rel="icon" type="image/png" sizes="192x192" href="../../../img/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="../../../img/android-chrome-512x512.png" />
<link rel="apple-touch-icon" sizes="180x180" href="../../../img/apple-touch-icon.png" />
<link rel="shortcut icon" type="image/png" sizes="48x48" href="../../../img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="../../../img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="../../../img/favicon-32x32.png" />


    
 
<title>My to sort - emacs.d</title>


<link href="../../../css/fontawesome/css/fontawesome.min.css" rel="stylesheet">
<link href="../../../css/fontawesome/css/solid.min.css" rel="stylesheet">
<link href="../../../css/normalize.css" rel="stylesheet">
<link href="../../../css/terminal.css" rel="stylesheet">
<link href="../../../css/theme.css" rel="stylesheet">
<link href="../../../css/theme.tile_grid.css" rel="stylesheet">
<link href="../../../css/theme.footer.css" rel="stylesheet">
<!-- gruvbox_dark color palette -->
<link href="../../../css/palettes/gruvbox_dark.css" rel="stylesheet">

<!-- page layout -->
<style>
/* initially set page layout to a one column grid */
.terminal-mkdocs-main-grid {
    display: grid;
    grid-column-gap: 1.4em;
    grid-template-columns: auto;
    grid-template-rows: auto;
}

/*  
*   when side navigation is not hidden, use a two column grid.  
*   if the screen is too narrow, fall back to the initial one column grid layout.
*   in this case the main content will be placed under the navigation panel. 
*/
@media only screen and (min-width: 70em) {
    .terminal-mkdocs-main-grid {
        grid-template-columns: 4fr 9fr;
    }
}</style>



     
    
    

    
    <!-- search css support -->
<link href="../../../css/search/bootstrap-modal.css" rel="stylesheet">
<!-- search scripts -->
<script>
    var base_url = "../../..",
    shortcuts = "{}";
</script>
<script src="../../../js/jquery/jquery-1.10.1.min.js" defer></script>
<script src="../../../js/bootstrap/bootstrap.min.js" defer></script>
<script src="../../../js/mkdocs/base.js" defer></script>
    
    
    
    
    <script src="../../../search/main.js"></script>
    

    
</head>

<body class="terminal"><div class="container">
    <div class="terminal-nav">
        <header class="terminal-logo">
            <div id="mkdocs-terminal-site-name" class="logo terminal-prompt"><a href="/" class="no-style">emacs.d</a></div>
        </header>
        
        <nav class="terminal-menu">
            
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../../.." class="menu-item " property="item" typeof="WebPage">
                        <span property="name">Home</span>
                    </a>
                    <meta property="position" content="0">
                </li>
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../../../about/" class="menu-item " property="item" typeof="WebPage">
                        <span property="name">About</span>
                    </a>
                    <meta property="position" content="1">
                </li>
                
                
                
                
                
                    
                    


<li property="itemListElement" typeof="ListItem">
    <a href="#" class="menu-item" data-toggle="modal" data-target="#mkdocs_search_modal" property="item" typeof="SearchAction">
        <i aria-hidden="true" class="fa fa-search"></i> <span property="name">Search</span>
    </a>
    <meta property="position" content="2">
</li>
                    
            </ul>
            
        </nav>
    </div>
</div>
        
    <div class="container">
        <div class="terminal-mkdocs-main-grid"><aside id="terminal-mkdocs-side-panel"><nav>
  
    <ul class="terminal-mkdocs-side-nav-items">
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../..">Home</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../../about/">About</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
        
        

        
            
    
        
        <span class="
        
    

    terminal-mkdocs-side-nav-item--active terminal-mkdocs-side-nav-section-no-index">Src</span>
    
    
        
      
        
            <ul class="terminal-mkdocs-side-nav-li-ul">
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../early-init/">early-init</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../init/">init</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-base/">My base</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-completion/">My completion</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-documentation/">My documentation</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-ide/">My ide</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-kbd/">My kbd</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-latex/">My latex</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-misc/">My misc</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-org/">My org</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-programs/">My programs</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        <span class="

    terminal-mkdocs-side-nav-item--active">My to sort</span>
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-ui/">My ui</a>
        
    
    
                

                
                
            </li>
        
            
            

            <li class="terminal-mkdocs-side-nav-li-ul-li">
                
                    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../my-workspaces/">My workspaces</a>
        
    
    
                

                
                
            </li>
        
    </ul>
        
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            
            
            <span class="

    terminal-mkdocs-side-nav-item">Misc</span>
        
    
    
    
  </li>
        
    </ul>
  
</nav><hr>
<nav>
    <ul>
        <li><a href="#code">Code</a></li>
        
    </ul>
</nav>
</aside>
            <main id="terminal-mkdocs-main-content">
    
    
    
    
    

<section id="mkdocs-terminal-content">
    <h3 id="code">Code</h3>
<div class="codehilite"><pre><span></span><code><span class="w">  </span><span class="nb">:init</span><span class="w"> </span><span class="p">(</span><span class="nv">omni-quotes-mode</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<span class="w">  </span><span class="nb">:bind</span><span class="w"> </span><span class="p">((</span><span class="s">&quot;M-s q m&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">omni-quotes-mode</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;M-s q p&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">omni-quotes-prev-set</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;M-s q n&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">omni-quotes-next-set</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;M-s q s&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">omni-quotes-shuffle-current-set</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;M-s q q&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">omni-quotes-display-random-quote</span><span class="p">))</span>
<span class="w">  </span><span class="nb">:setq</span>
<span class="w">  </span><span class="p">(</span><span class="nv">omni-quotes-idle-interval</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="mi">60</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nv">omni-quotes-fading</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="no">t</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nv">omni-quotes-fading-delay</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span>
<span class="w">  </span><span class="nb">:config</span>
<span class="w">  </span><span class="p">(</span><span class="nv">omni-quotes-load-simple-quote-file</span><span class="w"> </span><span class="s">&quot;~/Notes/org/quotes.txt&quot;</span><span class="w"> </span><span class="s">&quot;personal&quot;</span><span class="p">))</span>

<span class="c1">;; (defvar eldoc-doc-buffer-separator</span>
<span class="c1">;;   (concat (propertize &quot;\n&quot; &#39;face &#39;(:inherit separator-line :extend t)))</span>
<span class="c1">;;   &quot;String used to separate items in Eldoc documentation buffer.&quot;)</span>


<span class="c1">;;; Packages to install (check source code for malware for each first):</span>

<span class="c1">;; bind-map</span>

<span class="c1">;; restart-emacs</span>

<span class="c1">;; golden-ratio</span>

<span class="c1">;; ws-butler</span>

<span class="c1">;; flycheck-package</span>

<span class="c1">;; org-present</span>

<span class="c1">;; emacs-purpose</span>

<span class="c1">;; origami</span>

<span class="c1">;; cask</span>

<span class="c1">;; tao-theme</span>

<span class="c1">;; emacs-color-themes</span>

<span class="c1">;; hydra !!! so good</span>
<span class="c1">;; https://github.com/abo-abo/hydra/wiki/Hydras-by-Topic</span>

<span class="c1">;; literate programming?</span>

<span class="c1">;; hl-todo</span>

<span class="c1">;; breadcrumb?</span>

<span class="c1">;; git-gutter?</span>

<span class="c1">;; hideshow-org?</span>

<span class="c1">;; wgrep</span>

<span class="c1">;; look into different window strengths, lower C-h e &#39;s strength</span>

<span class="c1">;; undo-tree</span>

<span class="c1">;; hyperbole</span>

<span class="c1">;; tree sitter</span>

<span class="c1">;; eglot?</span>

<span class="p">(</span><span class="nv">defhydra</span><span class="w"> </span><span class="nv">hydra-org</span><span class="w"> </span><span class="p">(</span><span class="nb">:color</span><span class="w"> </span><span class="nv">red</span><span class="w"> </span><span class="nb">:columns</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<span class="w">  </span><span class="s">&quot;Org Mode Movements&quot;</span>
<span class="w">  </span><span class="p">(</span><span class="s">&quot;n&quot;</span><span class="w"> </span><span class="p">(</span><span class="nb">lambda</span><span class="w"> </span><span class="p">()</span>
<span class="w">         </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="nf">mapc</span><span class="w"> </span><span class="nf">#&#39;call-interactively</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">org-fold-hide-entry</span>
<span class="w">                                      </span><span class="nv">outline-next-visible-heading</span>
<span class="w">                                      </span><span class="nv">org-fold-show-entry</span>
<span class="w">                                      </span><span class="p">))</span>
<span class="w">         </span><span class="p">(</span><span class="nv">recenter-top-bottom</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="nv">recenter-top-bottom</span><span class="p">))</span>
<span class="w">   </span><span class="s">&quot;next heading&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="s">&quot;p&quot;</span><span class="w"> </span><span class="p">(</span><span class="nb">lambda</span><span class="w"> </span><span class="p">()</span>
<span class="w">         </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="nf">mapc</span><span class="w"> </span><span class="nf">#&#39;call-interactively</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">org-fold-hide-entry</span>
<span class="w">                                      </span><span class="nv">outline-previous-visible-heading</span>
<span class="w">                                      </span><span class="nv">org-fold-show-entry</span>
<span class="w">                                      </span><span class="p">))</span>
<span class="w">         </span><span class="p">(</span><span class="nv">recenter-top-bottom</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="nv">recenter-top-bottom</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="nv">recenter-top-bottom</span><span class="p">))</span>
<span class="w">   </span><span class="s">&quot;prev heading&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="s">&quot;N&quot;</span><span class="w"> </span><span class="p">(</span><span class="nb">lambda</span><span class="w"> </span><span class="p">()</span>
<span class="w">         </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="nf">mapc</span><span class="w"> </span><span class="nf">#&#39;call-interactively</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">org-fold-hide-entry</span>
<span class="w">                                      </span><span class="nv">org-forward-heading-same-level</span>
<span class="w">                                      </span><span class="nv">org-fold-show-entry</span><span class="p">))</span>
<span class="w">         </span><span class="p">(</span><span class="nv">recenter-top-bottom</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="nv">recenter-top-bottom</span><span class="p">))</span>
<span class="w">   </span><span class="s">&quot;next heading at same level&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="s">&quot;P&quot;</span><span class="w"> </span><span class="p">(</span><span class="nb">lambda</span><span class="w"> </span><span class="p">()</span>
<span class="w">         </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="nf">mapc</span><span class="w"> </span><span class="nf">#&#39;call-interactively</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">org-fold-hide-entry</span>
<span class="w">                                      </span><span class="nv">org-backward-heading-same-level</span>
<span class="w">                                      </span><span class="nv">org-fold-show-entry</span><span class="p">))</span>
<span class="w">         </span><span class="p">(</span><span class="nv">recenter-top-bottom</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="nv">recenter-top-bottom</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="nv">recenter-top-bottom</span><span class="p">))</span>
<span class="w">   </span><span class="s">&quot;prev heading at same level&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="s">&quot;u&quot;</span><span class="w"> </span><span class="nv">outline-up-heading</span><span class="w"> </span><span class="s">&quot;up heading&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="s">&quot;g&quot;</span><span class="w"> </span><span class="nv">org-goto</span><span class="w"> </span><span class="s">&quot;goto&quot;</span><span class="w"> </span><span class="nb">:exit</span><span class="w"> </span><span class="no">t</span><span class="p">))</span>

<span class="c1">;; https://www.reddit.com/r/emacs/comments/ioenk2/ical_import_in_emacs_calendar/</span>

<span class="p">(</span><span class="nb">require</span><span class="w"> </span><span class="ss">&#39;diary-lib</span><span class="p">)</span>

<span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">my/calendars</span>
<span class="w">      </span><span class="p">(</span><span class="nb">with-temp-buffer</span>
<span class="w">        </span><span class="p">(</span><span class="nf">insert-file-contents</span><span class="w"> </span><span class="s">&quot;~/Private/elisp/calendar-urls.el&quot;</span><span class="p">)</span>
<span class="w">        </span><span class="p">(</span><span class="nf">read</span><span class="w"> </span><span class="p">(</span><span class="nf">current-buffer</span><span class="p">))))</span>

<span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">my/ical-pull-all</span><span class="w"> </span><span class="p">()</span>
<span class="w">  </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nv">find-file</span><span class="w"> </span><span class="nv">diary-file</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nf">erase-buffer</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nf">message</span><span class="w"> </span><span class="s">&quot;Cleared diary file&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nf">mapcar</span><span class="w"> </span><span class="p">(</span><span class="nb">lambda</span><span class="w"> </span><span class="p">(</span><span class="nv">url</span><span class="p">)</span>
<span class="w">            </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">tmpfile</span><span class="w"> </span><span class="p">(</span><span class="nv">url-file-local-copy</span><span class="w"> </span><span class="nv">url</span><span class="p">)))</span>
<span class="w">              </span><span class="p">(</span><span class="nf">message</span><span class="w"> </span><span class="s">&quot;Importing &quot;</span><span class="p">)</span>
<span class="w">              </span><span class="p">(</span><span class="nv">icalendar-import-file</span><span class="w"> </span><span class="nv">tmpfile</span><span class="w"> </span><span class="nv">diary-file</span><span class="p">)</span>
<span class="w">              </span><span class="p">(</span><span class="nf">kill-buffer</span><span class="w"> </span><span class="p">(</span><span class="nf">car</span><span class="w"> </span><span class="p">(</span><span class="nv">last</span><span class="w"> </span><span class="p">(</span><span class="nv">split-string</span><span class="w"> </span><span class="nv">tmpfile</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p">))))))</span>
<span class="w">          </span><span class="nv">my/calendars</span><span class="p">))</span>

<span class="c1">;; no cover</span>
<span class="c1">;; (use-package listen)</span>

<span class="c1">;; emms extract metadata?</span>
<span class="c1">;; https://www.reddit.com/r/emacs/comments/981khz/emacs_music_player_with_emms/</span>

<span class="c1">;; TODO:</span>
<span class="p">(</span><span class="nv">leaf</span><span class="w"> </span><span class="nv">emms</span>
<span class="w">  </span><span class="nb">:config</span>
<span class="w">  </span><span class="p">(</span><span class="nv">emms-all</span><span class="p">)</span>

<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">emms-player-list</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span>
<span class="w">                           </span><span class="nv">emms-player-mpd</span>
<span class="w">                           </span><span class="nv">emms-player-mpv</span>
<span class="w">                           </span><span class="p">))</span>

<span class="w">  </span><span class="c1">;; (require &#39;emms-player-mpv) ; disabled for mpd</span>

<span class="w">  </span><span class="c1">;; variables</span>

<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">emms-source-file-default-directory</span><span class="w"> </span><span class="s">&quot;~/Music/library/&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">emms-player-mpd-music-directory</span><span class="w"> </span><span class="s">&quot;~/Music/library/&quot;</span><span class="p">)</span>

<span class="w">  </span><span class="c1">;; emms-player-mpv-parameters &#39;(&quot;--no-audio-display=no&quot;); broken</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">emms-browser-covers</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nv">emms-browser-cache-thumbnail-async</span><span class="p">)</span>
<span class="w">  </span><span class="c1">;; sort by natural order</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">emms-playlist-sort-function</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nv">emms-playlist-sort-by-natural-order</span><span class="p">)</span>
<span class="w">  </span><span class="c1">;; make streams update metadata</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">emms-player-mpv-update-metadata</span><span class="w"> </span><span class="no">t</span><span class="p">)</span>
<span class="w">  </span><span class="c1">;; playlist format use m3u</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">emms-source-playlist-default-format</span><span class="w"> </span><span class="ss">&#39;m3u</span><span class="p">)</span>
<span class="w">  </span><span class="c1">;; show format</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">emms-show-format</span><span class="w"> </span><span class="s">&quot;NP: %s&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="c1">;; ;; sort album by natural order</span>
<span class="w">  </span><span class="c1">;; ;; (setq  emms-browser-album-sort-function #&#39;emms-playlist-sort-by-natural-order)</span>
<span class="w">  </span><span class="c1">;; this actually sorts by natural order upon adding</span>
<span class="w">  </span><span class="p">(</span><span class="nv">add-hook</span><span class="w"> </span><span class="ss">&#39;emms-playlist-source-inserted-hook</span>
<span class="w">            </span><span class="nf">#&#39;</span><span class="nv">emms-playlist-sort-by-natural-order</span><span class="p">)</span>

<span class="w">  </span><span class="c1">;; backends</span>


<span class="w">  </span><span class="c1">;; get info from mpd</span>
<span class="w">  </span><span class="c1">;; (add-to-list &#39;emms-info-functions &#39;emms-info-mpd)</span>
<span class="w">  </span><span class="c1">;; ? show current song when next song starts?</span>
<span class="w">  </span><span class="c1">;; (add-hook &#39;emms-player-started-hook #&#39;emms-show)</span>
<span class="w">  </span><span class="c1">;; connect to mpd</span>
<span class="w">  </span><span class="c1">;; (setq emms-player-mpd-server-name &quot;localhost&quot;)</span>
<span class="w">  </span><span class="c1">;; (setq emms-player-mpd-server-port &quot;6600&quot;)</span>
<span class="w">  </span><span class="c1">;; (setq emms-player-mpd-music-directory &quot;\~/Music/library&quot;)</span>
<span class="w">  </span><span class="c1">;; (emms-player-mpd-connect)</span>

<span class="w">  </span><span class="c1">;; persistent playlists</span>
<span class="w">  </span><span class="c1">;; (require &#39;emms-history)</span>
<span class="w">  </span><span class="p">(</span><span class="nv">emms-history-load</span><span class="p">)</span>

<span class="w">  </span><span class="c1">;; display</span>
<span class="w">  </span><span class="p">(</span><span class="nv">emms-mode-line-mode</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>

<span class="w">  </span><span class="c1">;; enable playerctl pausing</span>

<span class="w">  </span><span class="c1">;; DISABLE LATER when using mpd-mpris service</span>
<span class="w">  </span><span class="c1">;; (require &#39;emms-mpris)</span>
<span class="w">  </span><span class="c1">;; (emms-mpris-enable) ;; (will make emacs hog mpris media playing active)</span>

<span class="w">  </span><span class="c1">;; (setq emms-player-list &#39;(emms-player-mpd))</span>
<span class="w">  </span><span class="p">(</span><span class="nv">add-to-list</span><span class="w"> </span><span class="ss">&#39;emms-info-functions</span><span class="w"> </span><span class="ss">&#39;emms-info-mpd</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nv">add-to-list</span><span class="w"> </span><span class="ss">&#39;emms-player-list</span><span class="w"> </span><span class="ss">&#39;emms-player-mpd</span><span class="p">)</span>

<span class="w">  </span><span class="c1">;; browser</span>

<span class="w">  </span><span class="c1">;; TODO: add this function to emms-info-functions (hard to implement?)</span>
<span class="w">  </span><span class="c1">;; (instead make my own function that runs ffprobe and gets info? might be better)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">my/emms-show-album-cover-in-emacs</span><span class="w"> </span><span class="p">()</span>
<span class="w">    </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nv">if-let</span><span class="w"> </span><span class="p">((</span><span class="nv">track</span><span class="w"> </span><span class="p">(</span><span class="nv">emms-playlist-current-selected-track</span><span class="p">))</span>
<span class="w">             </span><span class="p">(</span><span class="nv">song-path</span><span class="w"> </span><span class="p">(</span><span class="nv">emms-track-get</span><span class="w"> </span><span class="nv">track</span><span class="w"> </span><span class="ss">&#39;name</span><span class="p">))</span>
<span class="w">             </span><span class="p">(</span><span class="nv">cover-path</span><span class="w"> </span><span class="s">&quot;/tmp/emms-album-cover.jpg&quot;</span><span class="p">))</span><span class="w"> </span><span class="c1">;; is jpg fine?</span>
<span class="w">        </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nv">not</span><span class="w"> </span><span class="p">(</span><span class="nf">file-exists-p</span><span class="w"> </span><span class="nv">song-path</span><span class="p">))</span>
<span class="w">            </span><span class="p">(</span><span class="nf">message</span><span class="w"> </span><span class="s">&quot;Error: cannot find path to currently playing song&quot;</span><span class="p">)</span>
<span class="w">          </span><span class="p">(</span><span class="nb">when</span><span class="w"> </span><span class="p">(</span><span class="nf">file-exists-p</span><span class="w"> </span><span class="nv">cover-path</span><span class="p">)</span>
<span class="w">            </span><span class="p">(</span><span class="nf">delete-file</span><span class="w"> </span><span class="nv">cover-path</span><span class="p">))</span>
<span class="w">          </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">exit-code</span>
<span class="w">                 </span><span class="p">(</span><span class="nv">shell-command</span>
<span class="w">                  </span><span class="p">(</span><span class="nf">message</span><span class="w"> </span><span class="s">&quot;extracting: %s&quot;</span>
<span class="w">                           </span><span class="p">(</span><span class="nf">format</span><span class="w"> </span><span class="s">&quot;ffmpeg -i %s -an -vcodec copy %s -y&quot;</span>
<span class="w">                                   </span><span class="p">(</span><span class="nv">shell-quote-argument</span><span class="w"> </span><span class="nv">song-path</span><span class="p">)</span>
<span class="w">                                   </span><span class="p">(</span><span class="nv">shell-quote-argument</span><span class="w"> </span><span class="nv">cover-path</span><span class="p">))))))</span>
<span class="w">            </span><span class="p">(</span><span class="k">cond</span><span class="w"> </span><span class="p">((</span><span class="nf">/=</span><span class="w"> </span><span class="nv">exit-code</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">                   </span><span class="p">(</span><span class="nf">message</span><span class="w"> </span><span class="s">&quot;Error: ffmpeg cover extraction failed with code %s&quot;</span>
<span class="w">                            </span><span class="nv">exit-code</span><span class="p">))</span>
<span class="w">                  </span><span class="p">((</span><span class="nf">file-exists-p</span><span class="w"> </span><span class="nv">cover-path</span><span class="p">)</span>
<span class="w">                   </span><span class="p">(</span><span class="nb">with-current-buffer</span><span class="w"> </span><span class="p">(</span><span class="nf">get-buffer-create</span><span class="w"> </span><span class="s">&quot;*Album Cover*&quot;</span><span class="p">)</span>
<span class="w">                     </span><span class="p">(</span><span class="nf">erase-buffer</span><span class="p">)</span>
<span class="w">                     </span><span class="p">(</span><span class="nv">insert-image</span><span class="w"> </span><span class="p">(</span><span class="nv">create-image</span><span class="w"> </span><span class="nv">cover-path</span><span class="p">))</span>
<span class="w">                     </span><span class="p">(</span><span class="nv">pop-to-buffer</span><span class="w"> </span><span class="p">(</span><span class="nf">current-buffer</span><span class="p">))))</span>
<span class="w">                  </span><span class="p">(</span><span class="no">t</span>
<span class="w">                   </span><span class="p">(</span><span class="nf">message</span><span class="w"> </span><span class="s">&quot;Error: ffmpeg cover at cover-path not found.&quot;</span><span class="p">)))))</span>
<span class="w">      </span><span class="p">(</span><span class="nf">message</span><span class="w"> </span><span class="s">&quot;No song currently playing&quot;</span><span class="p">)))</span>

<span class="w">  </span><span class="c1">;; Hook to display album cover in Emacs when the track changes</span>
<span class="w">  </span><span class="c1">;; (add-hook &#39;emms-player-started-hook &#39;emms-show-album-cover-in-emacs)</span>

<span class="w">  </span><span class="c1">;;;; Personal functions for features: ;;;;</span>

<span class="w">  </span><span class="c1">;; Edit a playlist:</span>
<span class="w">  </span><span class="c1">;; - steps:</span>
<span class="w">  </span><span class="c1">;;   - create a new playlist buffer named &quot;%s_real&quot;.</span>
<span class="w">  </span><span class="c1">;;   - make modifications as needed.</span>
<span class="w">  </span><span class="c1">;;   - command to write and delete buffer.</span>
<span class="w">  </span><span class="c1">;; - create a function to reload the playlist from file, as well as write.</span>
<span class="w">  </span><span class="c1">;; - indicator to show whether the playlist has been modified or not?</span>
<span class="w">  </span><span class="c1">;;</span>
<span class="w">  </span><span class="c1">;; Add a song to a playlist:</span>
<span class="w">  </span><span class="c1">;; - steps:</span>
<span class="w">  </span><span class="c1">;;   - create a new playlist buffer named &quot;%s_real&quot;.</span>
<span class="w">  </span><span class="c1">;;   - place the song at the bottom of the playlist.</span>
<span class="w">  </span><span class="c1">;;   - make modifications as needed.</span>
<span class="w">  </span><span class="c1">;;   - command to write and delete buffer.</span>
<span class="w">  </span><span class="c1">;;</span>
<span class="w">  </span><span class="c1">;;</span>
<span class="w">  </span><span class="c1">;; workflow:</span>
<span class="w">  </span><span class="c1">;; - idea: if playing a playlist (any) and i want to add a song from it to a specific playlist (regardless of if it&#39;s loaded or not), the process is to load the playlist from the file in a new buffer, make the change, save, then close. And for convenience, if that playlist i added the song in is loaded and i wanna see those changes be updated, run a function to reload the playlist from its source file.</span>
<span class="w">  </span><span class="c1">;;</span>
<span class="w">  </span><span class="c1">;; Ideas:</span>
<span class="w">  </span><span class="c1">;; - playlist editing mode?</span>
<span class="w">  </span><span class="c1">;; - edit one playlist at a time? bc need to preserve the source playlist file somewhere</span>
<span class="w">  </span><span class="c1">;; - does a playlist file regenerate from the file when opened?</span>
<span class="w">  </span><span class="c1">;; - command: `emms-playlist-editor-open-playlist&#39;</span>
<span class="w">  </span><span class="c1">;;   - emms-metaplaylist-mode-new-buffer (to create new buffer with buffer-name</span>
<span class="w">  </span><span class="c1">;;   -</span>
<span class="w">  </span><span class="c1">;;</span>
<span class="w">  </span><span class="c1">;;</span>
<span class="w">  </span><span class="c1">;; Implement:</span>
<span class="w">  </span><span class="c1">;; - function: add a playlist file to a new playlist buffer (&quot;%s_EDITING&quot;)</span>

<span class="w">  </span><span class="c1">;;   (require &#39;cl-lib)</span>

<span class="w">  </span><span class="c1">;;   (defvar emms-playlist-editor--buffer-name &quot;EDITING&quot;</span>
<span class="w">  </span><span class="c1">;;     &quot;The buffer name for editing.&quot;)</span>

<span class="w">  </span><span class="c1">;;   (defvar emms-playlist-editor--current-path nil</span>
<span class="w">  </span><span class="c1">;;     &quot;The filepath to the current \&quot;EDITING\&quot; file.</span>
<span class="w">  </span><span class="c1">;; Used in `emms-playlist-edit-open-playlist&#39;.&quot;)</span>

<span class="w">  </span><span class="c1">;;   (defun emms-playlist-editor-open-playlist ()</span>
<span class="w">  </span><span class="c1">;;     (interactive)</span>
<span class="w">  </span><span class="c1">;;     (let* ((buffer-name emms-playlist-editor--buffer-name)</span>
<span class="w">  </span><span class="c1">;;         (buffer-real (get-buffer buffer-name)))</span>
<span class="w">  </span><span class="c1">;;       ;; handle case if buffer already exists</span>
<span class="w">  </span><span class="c1">;;       (when buffer-real</span>
<span class="w">  </span><span class="c1">;;      (switch-to-buffer buffer-real)</span>
<span class="w">  </span><span class="c1">;;      (if (yes-or-no-p (format &quot;Buffer \&quot;%s\&quot; already exists. Delete and contiune?&quot;</span>
<span class="w">  </span><span class="c1">;;                               buffer-name))</span>
<span class="w">  </span><span class="c1">;;          (kill-buffer buffer-name) ;; and continue...</span>
<span class="w">  </span><span class="c1">;;        (message &quot;aborting...&quot;)</span>
<span class="w">  </span><span class="c1">;;        (return)))</span>
<span class="w">  </span><span class="c1">;;       (let ((buf (get-buffer-create buffer-name)))</span>
<span class="w">  </span><span class="c1">;;      ;; init new &quot;EDITING&quot; buffer as playlist buffer</span>
<span class="w">  </span><span class="c1">;;      (with-current-buffer buf</span>
<span class="w">  </span><span class="c1">;;        (emms-playlist-mode)</span>
<span class="w">  </span><span class="c1">;;        (setq emms-playlist-buffer-p t))</span>
<span class="w">  </span><span class="c1">;;      ;; update metaplaylist</span>
<span class="w">  </span><span class="c1">;;      (emms-metaplaylist-mode-go)</span>
<span class="w">  </span><span class="c1">;;      (emms-metaplaylist-mode-update)</span>
<span class="w">  </span><span class="c1">;;      ;; go to new buffer</span>
<span class="w">  </span><span class="c1">;;      (switch-to-buffer</span>
<span class="w">  </span><span class="c1">;;       (emms-playlist-set-playlist-buffer buf))</span>
<span class="w">  </span><span class="c1">;;      ;; select playlist file</span>
<span class="w">  </span><span class="c1">;;      (let ((file (read-file-name &quot;Playlist file: &quot;</span>
<span class="w">  </span><span class="c1">;;                                  emms-source-file-default-directory</span>
<span class="w">  </span><span class="c1">;;                                  emms-source-file-default-directory</span>
<span class="w">  </span><span class="c1">;;                                  t)))</span>
<span class="w">  </span><span class="c1">;;        ;; add files</span>
<span class="w">  </span><span class="c1">;;        (emms-add-playlist file)</span>
<span class="w">  </span><span class="c1">;;        (setq emms-playlist-editor--current-path file)</span>
<span class="w">  </span><span class="c1">;;        ))))</span>

<span class="w">  </span><span class="c1">;;   (defun emms-playlist-editor-save-playlist ()</span>
<span class="w">  </span><span class="c1">;;     (interactive)</span>
<span class="w">  </span><span class="c1">;;     (let* ((buffer-name emms-playlist-editor--buffer-name)</span>
<span class="w">  </span><span class="c1">;;         (buffer-real (get-buffer buffer-name))</span>
<span class="w">  </span><span class="c1">;;         (path emms-playlist-editor--current-path))</span>
<span class="w">  </span><span class="c1">;;       (if (not buffer-real)</span>
<span class="w">  </span><span class="c1">;;        (message &quot;Buffer \&quot;%s\&quot; doesn&#39;t exist, exiting...&quot; buffer-name)</span>
<span class="w">  </span><span class="c1">;;      (switch-to-buffer</span>
<span class="w">  </span><span class="c1">;;       (emms-playlist-set-playlist-buffer buffer-real))</span>
<span class="w">  </span><span class="c1">;;      ;; save to file</span>
<span class="w">  </span><span class="c1">;;      (let ((format</span>
<span class="w">  </span><span class="c1">;;             (emms-source-playlist-read-format)))</span>
<span class="w">  </span><span class="c1">;;        (emms-playlist-save format path))</span>


<span class="w">  </span><span class="c1">;;      )))</span>

<span class="w">  </span><span class="c1">;; PLAYLISTS buffer, where i keep playlist files, autoload all</span>

<span class="c1">;;;;;;;;; YKW, fuck it, im just gonna tag everything in info-note (WORKS!)</span>
<span class="w">  </span><span class="c1">;; filter by note with emms-playlist-limit-to-info-note</span>
<span class="w">  </span><span class="c1">;; e.g. :nice:hardcore:</span>

<span class="w">  </span><span class="c1">;; (emms-browser-add-category &quot;note&quot; &#39;info-note)</span>
<span class="w">  </span><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">emms-browser-search-by-note</span><span class="w"> </span><span class="p">()</span>
<span class="w">    </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nv">emms-browser-search</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">info-note</span><span class="p">)))</span>

<span class="w">  </span><span class="c1">;;; As for playlists, i&#39;ll still be making it for, well, when i wanna make playlists,</span>
<span class="w">  </span><span class="c1">;; but i wont need to rely on those special custom functions. i can suffice with just:</span>
<span class="w">  </span><span class="c1">;; - `emms-add-playlist-file&#39; (add playlist file) [maybe i should automate creating a PLAYLISTS buffer]</span>
<span class="w">  </span><span class="c1">;; - `emms-playlist-mode-load-playlist&#39; (expand playlist file in new playlist buffer)</span>
<span class="w">  </span><span class="c1">;; - C-x C-s or `emms-playlist-save&#39; (save playlist to file)</span>
<span class="w">  </span><span class="c1">;; - `rename-buffer&#39; (rename buffer to liking)</span>
<span class="w">  </span><span class="c1">;;</span>
<span class="w">  </span><span class="c1">;; TODO: bind the above to keybinds</span>


<span class="w">  </span><span class="c1">;;; Holy shit writing my emacs config modules in a declarative org file is actually pretty realistic and doable!?!</span>
<span class="w">  </span><span class="c1">;; It&#39;ll make everything so much nicer... documentation as well...</span>

<span class="w">  </span><span class="p">(</span><span class="k">defvar</span><span class="w"> </span><span class="nv">emms-playlistedit-orig-path</span><span class="w"> </span><span class="no">nil</span>
<span class="w">    </span><span class="s">&quot;A local var for playlist buffers with the path to its playlist file.&quot;</span><span class="p">)</span>

<span class="w">  </span><span class="c1">;; emms-playlistedit-open : given a path to the playlist file, adds the playlist file to the &quot;PLAYLISTS&quot; buffer, load playlist in a new generic playlist buffer, with a buffer-local variable for orig path set (or maybe the playlist file?),</span>
<span class="w">  </span><span class="c1">;; - simplify by adding the playlist file to a &quot;PLAYLISTS&quot; buffer, then loading it from there?</span>
<span class="w">  </span><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">emms-playlistedit-playlist-file-edit</span><span class="w"> </span><span class="p">()</span>
<span class="w">    </span><span class="s">&quot;Given a loaded playlist file at point, load in a new playlist buffer for editing.</span>
<span class="s">It&#39;s essentially the same as </span><span class="ss">`emms-playlist-mode-load-playlist&#39;</span><span class="s"> but it also sets</span>
<span class="s">a buffer-local variable </span><span class="ss">`emms-playlistedit-orig-path&#39;</span><span class="s">.&quot;</span>
<span class="w">    </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">    </span><span class="c1">;; load the playlist at point</span>
<span class="w">    </span><span class="c1">;; (below is a copy of `emms-playlist-mode-load-playlist&#39; (we want to use the `name&#39; variable later)).</span>
<span class="w">    </span><span class="p">(</span><span class="k">let*</span><span class="w"> </span><span class="p">((</span><span class="nv">track</span><span class="w"> </span><span class="p">(</span><span class="nv">emms-playlist-track-at</span><span class="p">))</span>
<span class="w">           </span><span class="p">(</span><span class="nv">name</span><span class="w"> </span><span class="p">(</span><span class="nv">emms-track-get</span><span class="w"> </span><span class="nv">track</span><span class="w"> </span><span class="ss">&#39;name</span><span class="p">)))</span>
<span class="w">      </span><span class="p">(</span><span class="nv">emms-playlist-select</span><span class="w"> </span><span class="p">(</span><span class="nf">point</span><span class="p">))</span>
<span class="w">      </span><span class="p">(</span><span class="nf">run-hooks</span><span class="w"> </span><span class="ss">&#39;emms-player-stopped-hook</span><span class="p">)</span>
<span class="w">      </span><span class="p">(</span><span class="nv">switch-to-buffer</span>
<span class="w">       </span><span class="p">(</span><span class="nv">emms-playlist-set-playlist-buffer</span><span class="w"> </span><span class="p">(</span><span class="nv">emms-playlist-new</span><span class="p">)))</span>
<span class="w">      </span><span class="p">(</span><span class="nv">emms-add-playlist</span><span class="w"> </span><span class="nv">name</span><span class="p">)</span>
<span class="w">      </span><span class="c1">;; let the buffer-local variable to be `name&#39; and also rename.</span>
<span class="w">      </span><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">buf</span><span class="w"> </span><span class="nv">emms-playlist-buffer</span><span class="p">))</span>
<span class="w">        </span><span class="p">(</span><span class="nb">with-current-buffer</span><span class="w"> </span><span class="nv">buf</span>
<span class="w">          </span><span class="p">(</span><span class="nb">setq-local</span><span class="w"> </span><span class="nv">emms-playlistedit-orig-path</span><span class="w"> </span><span class="nv">name</span><span class="p">)</span>
<span class="w">          </span><span class="p">(</span><span class="nf">rename-buffer</span><span class="w"> </span><span class="p">(</span><span class="nf">concat</span><span class="w"> </span><span class="p">(</span><span class="nf">buffer-name</span><span class="p">)</span>
<span class="w">                                 </span><span class="s">&quot; : &quot;</span>
<span class="w">                                 </span><span class="nv">name</span><span class="p">))))))</span>

<span class="w">  </span><span class="c1">;; (defun emms-playlistedit-create-playlist-buffer (buffer-name)</span>
<span class="w">  </span><span class="c1">;;     &quot;Creates a new playlist buffer BUFFER-NAME.</span>
<span class="w">  </span><span class="c1">;; Basically the same as `emms-metaplaylist-mode-new-buffer&#39; but without switching</span>
<span class="w">  </span><span class="c1">;; to the metaplaylist view.&quot;</span>
<span class="w">  </span><span class="c1">;;     (interactive &quot;sBuffer Name: &quot;)</span>
<span class="w">  </span><span class="c1">;;     (if (get-buffer buffer-name)</span>
<span class="w">  </span><span class="c1">;;      (error &quot;Buffer must not exist.&quot;)</span>
<span class="w">  </span><span class="c1">;;       (let ((buf (get-buffer-create buffer-name)))</span>
<span class="w">  </span><span class="c1">;;      (with-current-buffer buf</span>
<span class="w">  </span><span class="c1">;;        (emms-playlist-mode)</span>
<span class="w">  </span><span class="c1">;;        (setq emms-playlist-buffer-p t)))</span>
<span class="w">  </span><span class="c1">;;       (emms-metaplaylist-mode-go)</span>
<span class="w">  </span><span class="c1">;;       (emms-metaplaylist-mode-update)))</span>

<span class="w">  </span><span class="c1">;; (defun emms-playlistedit-open-playlist-file ()</span>
<span class="w">  </span><span class="c1">;;     &quot;Creates a new playlist buffer from a playlist-file, saving the original path.</span>
<span class="w">  </span><span class="c1">;; The original path is saved in a buffer-local variable.&quot;</span>
<span class="w">  </span><span class="c1">;;     )</span>

<span class="w">  </span><span class="c1">;; emms-playlistedit-goto-playlist-buffer : goes to the &quot;PLAYLISTS&quot; buffer. If not exist, create new then go to.</span>

<span class="w">  </span><span class="c1">;;</span>


<span class="w">  </span><span class="c1">;; - load playlist contents in a new playlist buffer</span>
<span class="w">  </span><span class="c1">;;   - use a buffer-local variable for the origin path</span>
<span class="w">  </span><span class="c1">;; - make changes</span>
<span class="w">  </span><span class="c1">;; - emms-playlist-diff-and-save</span>
<span class="w">  </span><span class="c1">;;   - if the buffer-local variable is nil, then just do emms-playlist-save as usual</span>
<span class="w">  </span><span class="c1">;;   - if the buffer-local variable is set, then:</span>
<span class="w">  </span><span class="c1">;;     - load the original playlist in &quot;TMP-%s&quot;, and diff compare new and old playlists. (error if path to playlist invalid).</span>
<span class="w">  </span><span class="c1">;;     - proceed?</span>
<span class="w">  </span><span class="c1">;;       - if yes, overwrite playlist file with new changes, then delete &quot;TMP-%s&quot;.</span>
<span class="w">  </span><span class="c1">;;       - if no, delete &quot;TMP-%s&quot; and cancel.</span>



<span class="w">  </span><span class="c1">;; maybe switch to mpv (mpd is too jank) (usempvScripts.mpris)</span>


<span class="w">  </span><span class="nb">:init</span>
<span class="w">  </span><span class="p">(</span><span class="nv">general-my-map</span>
<span class="w">    </span><span class="s">&quot;e&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;emms&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;e e&quot;</span><span class="w"> </span><span class="ss">&#39;emms</span>
<span class="w">    </span><span class="s">&quot;e k&quot;</span><span class="w"> </span><span class="ss">&#39;emms-playlist-current-kill</span>

<span class="w">    </span><span class="c1">;; goto</span>
<span class="w">    </span><span class="s">&quot;e p&quot;</span><span class="w"> </span><span class="ss">&#39;emms-playlist-mode-go</span>
<span class="w">    </span><span class="s">&quot;e m&quot;</span><span class="w"> </span><span class="ss">&#39;emms-metaplaylist-mode-go</span>

<span class="w">    </span><span class="c1">;; browse</span>
<span class="w">    </span><span class="s">&quot;e B&quot;</span><span class="w"> </span><span class="ss">&#39;emms-smart-browse</span>
<span class="w">    </span><span class="s">&quot;e b&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;browse&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;e b b&quot;</span><span class="w"> </span><span class="ss">&#39;emms-browser</span>
<span class="w">    </span><span class="s">&quot;e b a&quot;</span><span class="w"> </span><span class="ss">&#39;emms-browse-by-album</span>
<span class="w">    </span><span class="s">&quot;e b A&quot;</span><span class="w"> </span><span class="ss">&#39;emms-browse-by-artist</span>

<span class="w">    </span><span class="c1">;; control</span>
<span class="w">    </span><span class="s">&quot;e c&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;control&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;e c P&quot;</span><span class="w"> </span><span class="ss">&#39;emms-pause</span>
<span class="w">    </span><span class="s">&quot;e c n&quot;</span><span class="w"> </span><span class="ss">&#39;emms-next</span>
<span class="w">    </span><span class="s">&quot;e c p&quot;</span><span class="w"> </span><span class="ss">&#39;emms-previous</span>
<span class="w">    </span><span class="s">&quot;e c s&quot;</span><span class="w"> </span><span class="ss">&#39;emms-seek-to</span>

<span class="w">    </span><span class="c1">;; info</span>
<span class="w">    </span><span class="s">&quot;e i&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;info&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;e i i&quot;</span><span class="w"> </span><span class="ss">&#39;emms-show</span>
<span class="w">    </span><span class="s">&quot;e i a&quot;</span><span class="w"> </span><span class="ss">&#39;emms-show-all</span>
<span class="w">    </span><span class="s">&quot;e i m&quot;</span><span class="w"> </span><span class="ss">&#39;emms-player-mpd-show</span>

<span class="w">    </span><span class="c1">;; sort</span>
<span class="w">    </span><span class="s">&quot;e S&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;sort&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;e S n&quot;</span><span class="w"> </span><span class="ss">&#39;emms-playlist-sort-by-natural-order</span>
<span class="w">    </span><span class="s">&quot;e S r&quot;</span><span class="w"> </span><span class="ss">&#39;emms-playlist-sort-by-random</span>
<span class="w">    </span><span class="s">&quot;e S o&quot;</span><span class="w"> </span><span class="ss">&#39;emms-playlist-sort-by-info-note</span><span class="p">))</span>

<span class="c1">;; Sample config:</span>
<span class="c1">;; https://protesilaos.com/emacs/denote#h:5d16932d-4f7b-493d-8e6a-e5c396b15fd6</span>

<span class="c1">;; TODO: to look into!!</span>
<span class="c1">;; - https://baty.blog/2022/keeping-my-org-agenda-updated</span>
<span class="c1">;; - https://forum.systemcrafters.net/t/bring-denote-into-org-agenda-with-prettyness/779</span>
<span class="c1">;; https://www.reddit.com/r/emacs/comments/1er9wj4/denote_and_agenda_practical_use/</span>

<span class="c1">;; Note:</span>
<span class="c1">;; - dired: &quot;% m&quot; then &quot;t&quot; then `k&#39; to kill and filter down results</span>

<span class="p">(</span><span class="nv">leaf</span><span class="w"> </span><span class="nv">denote</span>
<span class="w">  </span><span class="nb">:init</span>
<span class="w">  </span><span class="p">(</span><span class="nv">general-my-map</span>
<span class="w">    </span><span class="s">&quot;n&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;denote&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nn&quot;</span><span class="w"> </span><span class="ss">&#39;denote</span>
<span class="w">    </span><span class="s">&quot;ns&quot;</span><span class="w"> </span><span class="ss">&#39;denote-subdirectory</span>
<span class="w">    </span><span class="c1">;; &quot;nf&quot; &#39;denote-open-or-create ;; moved to consult-notes</span>

<span class="w">    </span><span class="c1">;; renaming</span>
<span class="w">    </span><span class="s">&quot;nr&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;rename file&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nrf&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-rename-file</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;rename file&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nrt&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-rename-file-title</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;rename title&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nrk&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-rename-file-keywords</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;rename keywords&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">;; dired</span>
<span class="w">    </span><span class="s">&quot;nd&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;dired&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;ndj&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">my/denote-directory-jump</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;jump to denote dir&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;ndr&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-dired-rename-marked-files</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;marked rename&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;ndk&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-dired-rename-marked-files-add-keywords</span>
<span class="w">            </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;marked add keywords&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;ndK&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-dired-rename-marked-files-remove-keywords</span>
<span class="w">            </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;marked remove keywords&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">;; links</span>
<span class="w">    </span><span class="s">&quot;nl&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;links&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nll&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-find-link</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;find links in file&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nln&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-link</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;new link&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nla&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-add-links</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;add links for metanote&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">;; backlinks</span>
<span class="w">    </span><span class="s">&quot;nb&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;backlinks&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nbb&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-find-backlink</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;find backlinks&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nbl&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-backlinks</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;list backlinks&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">;; org-dblocks</span>
<span class="w">    </span><span class="s">&quot;no&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;org-dblocks&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nol&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-org-extras-dblock-insert-links</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;dblock links&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nof&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-org-extras-dblock-insert-files</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;dblock files&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nob&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-org-extras-dblock-insert-backlinks</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;dblock backlinks&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;noa&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">my/denote-insert-file-local-dblock-update-mode</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;insert file-local dblock mode&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">)</span>

<span class="w">  </span><span class="nb">:config</span>

<span class="w">  </span><span class="c1">;; variables</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">denote-directory</span><span class="w"> </span><span class="p">(</span><span class="nf">expand-file-name</span><span class="w"> </span><span class="s">&quot;~/Notes/denote&quot;</span><span class="p">))</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">denote-known-keywords</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;emacs&quot;</span><span class="w"> </span><span class="s">&quot;meta&quot;</span>
<span class="w">                                </span><span class="s">&quot;art&quot;</span><span class="w"> </span><span class="s">&quot;hobbies&quot;</span><span class="w"> </span><span class="s">&quot;ideas&quot;</span>
<span class="w">                                </span><span class="s">&quot;class&quot;</span><span class="w"> </span><span class="s">&quot;todo&quot;</span>
<span class="w">                                </span><span class="s">&quot;calc1&quot;</span><span class="w"> </span><span class="s">&quot;arthist&quot;</span>
<span class="w">                                </span><span class="s">&quot;systemsoftware&quot;</span><span class="w"> </span><span class="s">&quot;bio2&quot;</span>
<span class="w">                                </span><span class="s">&quot;random&quot;</span><span class="p">))</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">denote-prompts</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">title</span><span class="w"> </span><span class="nv">keywords</span><span class="w"> </span><span class="nv">subdirectory</span><span class="p">))</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">denote-save-buffers</span><span class="w"> </span><span class="no">t</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">denote-excluded-directories-regexp</span>
<span class="w">        </span><span class="p">(</span><span class="nf">concat</span>
<span class="w">         </span><span class="c1">;; (^|/) ... (/|$)</span>
<span class="w">         </span><span class="s">&quot;\\(^\\|/\\)&quot;</span><span class="w"> </span><span class="s">&quot;[aA]rchived?&quot;</span><span class="w"> </span><span class="s">&quot;\\(/\\|$\\)&quot;</span><span class="w"> </span><span class="s">&quot;\\|&quot;</span>
<span class="w">         </span><span class="s">&quot;\\(^\\|/\\)&quot;</span><span class="w"> </span><span class="s">&quot;[eE]xcluded?&quot;</span><span class="w"> </span><span class="s">&quot;\\(/\\|$\\)&quot;</span><span class="w"> </span><span class="s">&quot;\\|&quot;</span>
<span class="w">         </span><span class="s">&quot;\\(^\\|/\\)&quot;</span><span class="w"> </span><span class="s">&quot;_.*&quot;</span><span class="w">          </span><span class="s">&quot;\\(/\\|$\\)&quot;</span><span class="p">))</span>

<span class="w">  </span><span class="c1">;; when renaming, don&#39;t prompt for modify-file-name</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">denote-rename-confirmations</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">rewrite-front-matter</span><span class="p">))</span>

<span class="w">  </span><span class="c1">;; prettify</span>

<span class="w">  </span><span class="c1">;; rename buffer/mode-line</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">denote-rename-buffer-format</span><span class="w"> </span><span class="s">&quot;[D] %t%b  _%k&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">(</span><span class="nv">denote-rename-buffer-mode</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>

<span class="w">  </span><span class="c1">;; dired fontify</span>
<span class="w">  </span><span class="p">(</span><span class="nv">add-hook</span><span class="w"> </span><span class="ss">&#39;dired-mode-hook</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nv">denote-dired-mode</span><span class="p">)</span>

<span class="w">  </span><span class="c1">;; links in text files</span>
<span class="w">  </span><span class="p">(</span><span class="nv">add-hook</span><span class="w"> </span><span class="ss">&#39;text-mode-hook</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nv">denote-fontify-links-mode-maybe</span><span class="p">)</span>

<span class="w">  </span><span class="c1">;; other</span>

<span class="w">  </span><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">my/denote-directory-jump</span><span class="w"> </span><span class="p">()</span>
<span class="w">    </span><span class="p">(</span><span class="k">interactive</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nv">dired</span><span class="w"> </span><span class="nv">denote-directory</span><span class="p">))</span>

<span class="w">  </span><span class="c1">;; org-capture</span>

<span class="w">  </span><span class="p">(</span><span class="nb">with-eval-after-load</span><span class="w"> </span><span class="ss">&#39;org-capture</span>
<span class="w">    </span><span class="p">(</span><span class="nv">add-to-list</span><span class="w"> </span><span class="ss">&#39;org-capture-templates</span>
<span class="w">                 </span><span class="o">&#39;</span><span class="p">(</span><span class="s">&quot;n&quot;</span><span class="w"> </span><span class="s">&quot;New note (with Denote)&quot;</span><span class="w"> </span><span class="nv">plain</span>
<span class="w">                   </span><span class="p">(</span><span class="nv">file</span><span class="w"> </span><span class="nv">denote-last-path</span><span class="p">)</span>
<span class="w">                   </span><span class="nf">#&#39;</span><span class="nv">denote-org-capture</span>
<span class="w">                   </span><span class="nb">:no-save</span><span class="w"> </span><span class="no">t</span>
<span class="w">                   </span><span class="nb">:immediate-finish</span><span class="w"> </span><span class="no">nil</span>
<span class="w">                   </span><span class="nb">:kill-buffer</span><span class="w"> </span><span class="no">t</span>
<span class="w">                   </span><span class="nb">:jump-to-captured</span><span class="w"> </span><span class="no">t</span><span class="p">)))</span>

<span class="w">  </span><span class="c1">;; org-dblocks</span>

<span class="w">  </span><span class="c1">;; (define-minor-mode org-dblock-update-minor-mode</span>
<span class="w">  </span><span class="c1">;;   &quot;A minor mode that automatically updates Org mode dynamic blocks before saving.&quot;</span>
<span class="w">  </span><span class="c1">;;   :lighter &quot; OrgDBlocks&quot;</span>
<span class="w">  </span><span class="c1">;;   :global nil</span>
<span class="w">  </span><span class="c1">;;   (if (and org-dblock-update-minor-mode (eq major-mode &#39;org-mode))</span>
<span class="w">  </span><span class="c1">;;    (add-hook &#39;before-save-hook #&#39;org-update-all-dblocks nil t)</span>
<span class="w">  </span><span class="c1">;;     (remove-hook &#39;before-save-hook #&#39;org-update-all-dblocks t)))</span>

<span class="w">  </span><span class="c1">;; (defun my/denote-insert-file-local-dblock-update-mode ()</span>
<span class="w">  </span><span class="c1">;;   (interactive)</span>
<span class="w">  </span><span class="c1">;;   (if (eq major-mode &#39;org-mode)</span>
<span class="w">  </span><span class="c1">;;    (add-file-local-variable</span>
<span class="w">  </span><span class="c1">;;     &#39;eval</span>
<span class="w">  </span><span class="c1">;;     &#39;(org-dblock-update-minor-mode))</span>
<span class="w">  </span><span class="c1">;;     (message &quot;Not in an org-mode buffer&quot;)))</span>

<span class="w">  </span><span class="c1">;; journal</span>

<span class="w">  </span><span class="c1">;; (require &#39;denote-journal-extras)</span>
<span class="w">  </span><span class="c1">;; (setq denote-journal-extras-directory</span>
<span class="w">  </span><span class="c1">;;       (expand-file-name &quot;journal&quot; denote-directory))</span>
<span class="w">  </span><span class="p">)</span>

<span class="p">(</span><span class="nv">leaf</span><span class="w"> </span><span class="nv">denote-journal</span>
<span class="w">  </span><span class="nb">:config</span>
<span class="w">  </span><span class="p">(</span><span class="nv">general-my-map</span>
<span class="w">    </span><span class="c1">;; journal</span>

<span class="w">    </span><span class="s">&quot;nj&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;journal&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;njN&quot;</span><span class="w"> </span><span class="ss">&#39;denote-journal-new-entry</span>
<span class="w">    </span><span class="s">&quot;njc&quot;</span><span class="w"> </span><span class="ss">&#39;denote-journal-link-or-create-entry</span>
<span class="w">    </span><span class="s">&quot;njn&quot;</span><span class="w"> </span><span class="ss">&#39;denote-journal-new-or-existing-entry</span><span class="p">))</span>

<span class="c1">;; provides consult sources:</span>
<span class="c1">;; - &quot;SPC D&quot; for denote buffers</span>
<span class="c1">;; - &quot;SPC S&quot; for denote subdirectories</span>
<span class="p">(</span><span class="nv">leaf</span><span class="w"> </span><span class="nv">consult-denote</span>
<span class="w">  </span><span class="nb">:after</span><span class="w"> </span><span class="nv">consult-notes</span>
<span class="w">  </span><span class="nb">:config</span>
<span class="w">  </span><span class="p">(</span><span class="nv">consult-denote-mode</span><span class="w"> </span><span class="mi">1</span><span class="p">))</span>
<span class="c1">;; TODO: write my own consult function for &quot;SPC S&quot;.</span>


<span class="c1">;; Docs: https://github.com/mclear-tools/consult-notes</span>
<span class="p">(</span><span class="nv">leaf</span><span class="w"> </span><span class="nv">consult-notes</span>
<span class="w">  </span><span class="nb">:commands</span><span class="w"> </span><span class="nv">consult-notes</span><span class="w"> </span><span class="nv">consult-notes-search-in-all-notes</span>
<span class="w">  </span><span class="nb">:after</span><span class="w"> </span><span class="nv">org</span>
<span class="w">  </span><span class="nb">:bind</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;M-s n&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">consult-notes</span><span class="p">)</span>
<span class="w">  </span><span class="nb">:init</span>
<span class="w">  </span><span class="p">(</span><span class="nv">general-my-map</span>
<span class="w">    </span><span class="s">&quot;nf&quot;</span><span class="w"> </span><span class="ss">&#39;consult-notes</span>
<span class="w">    </span><span class="s">&quot;ng&quot;</span><span class="w"> </span><span class="ss">&#39;consult-notes-search-in-all-notes</span><span class="p">)</span>
<span class="w">  </span><span class="nb">:config</span>
<span class="w">  </span><span class="c1">;; denote keywords &quot;_&quot; fix</span>
<span class="w">  </span><span class="p">(</span><span class="k">progn</span>
<span class="w">    </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">consult-notes-denote-display-keywords-indicator</span><span class="w"> </span><span class="s">&quot;_&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">consult-notes-denote--display-keywords</span><span class="w"> </span><span class="p">(</span><span class="nv">keywords</span><span class="p">)</span>
<span class="w">      </span><span class="p">(</span><span class="nf">format</span><span class="w"> </span><span class="s">&quot;%18s&quot;</span><span class="w"> </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="nv">keywords</span>
<span class="w">                         </span><span class="p">(</span><span class="nf">concat</span>
<span class="w">                          </span><span class="nv">consult-notes-denote-display-keywords-indicator</span>
<span class="w">                          </span><span class="p">(</span><span class="nf">mapconcat</span><span class="w"> </span><span class="ss">&#39;identity</span><span class="w"> </span><span class="nv">keywords</span><span class="w"> </span><span class="s">&quot;_&quot;</span><span class="p">))</span>
<span class="w">                       </span><span class="s">&quot;&quot;</span><span class="p">))))</span>
<span class="w">  </span><span class="c1">;; custom printing format</span>
<span class="w">  </span><span class="p">(</span><span class="k">progn</span>
<span class="w">    </span><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">my/consult-notes--file-dir-annotate</span><span class="w"> </span><span class="p">(</span><span class="nv">name</span><span class="w"> </span><span class="nv">dir</span><span class="w"> </span><span class="nv">cand</span><span class="p">)</span>
<span class="w">      </span><span class="s">&quot;Annotate file CAND with its directory DIR, size, and modification time.&quot;</span>
<span class="w">      </span><span class="p">(</span><span class="k">let*</span><span class="w"> </span><span class="p">((</span><span class="nv">file</span><span class="w">  </span><span class="p">(</span><span class="nf">concat</span><span class="w"> </span><span class="p">(</span><span class="nf">file-name-as-directory</span><span class="w"> </span><span class="nv">dir</span><span class="p">)</span><span class="w"> </span><span class="nv">cand</span><span class="p">))</span>
<span class="w">             </span><span class="p">(</span><span class="nv">dirs</span><span class="w">  </span><span class="p">(</span><span class="nv">abbreviate-file-name</span><span class="w"> </span><span class="nv">dir</span><span class="p">))</span>
<span class="w">             </span><span class="p">(</span><span class="nv">attrs</span><span class="w"> </span><span class="p">(</span><span class="nf">file-attributes</span><span class="w"> </span><span class="nv">file</span><span class="p">))</span>
<span class="w">             </span><span class="p">(</span><span class="nv">fsize</span><span class="w"> </span><span class="p">(</span><span class="nv">file-size-human-readable</span><span class="w"> </span><span class="p">(</span><span class="nv">file-attribute-size</span><span class="w"> </span><span class="nv">attrs</span><span class="p">)))</span>
<span class="w">             </span><span class="p">(</span><span class="nv">ftime</span><span class="w"> </span><span class="p">(</span><span class="nv">consult-notes--time</span><span class="w"> </span><span class="p">(</span><span class="nv">file-attribute-modification-time</span><span class="w"> </span><span class="nv">attrs</span><span class="p">))))</span>
<span class="w">        </span><span class="p">(</span><span class="nf">message</span><span class="w"> </span><span class="s">&quot;DEBUGGGGG: %s %s %s&quot;</span><span class="w"> </span><span class="nv">file</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="nv">dirs</span><span class="p">)</span>
<span class="w">        </span><span class="p">(</span><span class="nf">put-text-property</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="nf">length</span><span class="w"> </span><span class="nv">name</span><span class="p">)</span><span class="w">  </span><span class="ss">&#39;face</span><span class="w"> </span><span class="ss">&#39;consult-notes-name</span><span class="w"> </span><span class="nv">name</span><span class="p">)</span>
<span class="w">        </span><span class="p">(</span><span class="nf">put-text-property</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="nf">length</span><span class="w"> </span><span class="nv">dirs</span><span class="p">)</span><span class="w">  </span><span class="ss">&#39;face</span><span class="w"> </span><span class="ss">&#39;consult-notes-name</span><span class="w"> </span><span class="nv">dirs</span><span class="p">)</span>
<span class="w">        </span><span class="p">(</span><span class="nf">put-text-property</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="nf">length</span><span class="w"> </span><span class="nv">fsize</span><span class="p">)</span><span class="w"> </span><span class="ss">&#39;face</span><span class="w"> </span><span class="ss">&#39;consult-notes-size</span><span class="w"> </span><span class="nv">fsize</span><span class="p">)</span>
<span class="w">        </span><span class="p">(</span><span class="nf">put-text-property</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">(</span><span class="nf">length</span><span class="w"> </span><span class="nv">ftime</span><span class="p">)</span><span class="w"> </span><span class="ss">&#39;face</span><span class="w"> </span><span class="ss">&#39;consult-notes-time</span><span class="w"> </span><span class="nv">ftime</span><span class="p">)</span>
<span class="w">        </span><span class="p">(</span><span class="nf">format</span><span class="w"> </span><span class="s">&quot;%7s %8s  %12s  %8s&quot;</span><span class="w"> </span><span class="nv">name</span><span class="w"> </span><span class="nv">fsize</span><span class="w"> </span><span class="nv">ftime</span><span class="w"> </span><span class="nv">dirs</span><span class="p">)))</span>
<span class="w">    </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">consult-notes-file-dir-annotate-function</span><span class="w"> </span><span class="nf">#&#39;</span><span class="nv">my/consult-notes--file-dir-annotate</span><span class="p">))</span>
<span class="w">  </span><span class="c1">;; enable for denote after load denote</span>
<span class="w">  </span><span class="p">(</span><span class="nb">with-eval-after-load</span><span class="w"> </span><span class="ss">&#39;denote</span>
<span class="w">    </span><span class="p">(</span><span class="nv">consult-notes-denote-mode</span><span class="w"> </span><span class="mi">1</span><span class="p">)))</span>

<span class="c1">;; docs: https://lucidmanager.org/productivity/denote-explore/</span>
<span class="p">(</span><span class="nv">leaf</span><span class="w"> </span><span class="nv">denote-explore</span>
<span class="w">  </span><span class="nb">:after</span><span class="w"> </span><span class="nv">denote</span>
<span class="w">  </span><span class="nb">:init</span>
<span class="w">  </span><span class="p">(</span><span class="nv">general-my-map</span>
<span class="w">    </span><span class="s">&quot;ne&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;explore&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">;; random walks</span>
<span class="w">    </span><span class="s">&quot;new&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;random walks&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;newl&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-random-link</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;random link&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;newr&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-random-regex</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;random regex&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;newk&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-random-keyword</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;random keyword&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">;; janitor</span>
<span class="w">    </span><span class="s">&quot;nej&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;janitor&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nejj&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-sync-metadata</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;sync filenames from metadata&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nejm&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-sync-metadata</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;sync filenames from metadata&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nejs&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-sort-keywords</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;sort order of all keywords&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nejr&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-rename-keyword</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;rename keyword&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nej0&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-zero-keywords</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;0 keywords&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nej1&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-single-keywords</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;1 keywords&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">;; visualize</span>
<span class="w">    </span><span class="s">&quot;nen&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;network&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nenn&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-network</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;network&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nenr&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-network-regenerate</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;network regenerate&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nend&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-degree-barchart</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;degree barchart&quot;</span><span class="p">)</span>

<span class="w">    </span><span class="c1">;; stats</span>
<span class="w">    </span><span class="s">&quot;nes&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nb">:ignore</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;stats&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nesk&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-barchart-keywords</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;barchart keywords&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="s">&quot;nese&quot;</span><span class="w"> </span><span class="o">&#39;</span><span class="p">(</span><span class="nv">denote-explore-barchart-filetypes</span><span class="w"> </span><span class="nb">:which-key</span><span class="w"> </span><span class="s">&quot;barchart filetypes&quot;</span><span class="p">))</span>

<span class="w">  </span><span class="c1">;; :config</span>
<span class="w">  </span><span class="c1">;; (setq denote-explore-network-format )</span>
<span class="w">  </span><span class="c1">;; TODO: make denote-explore-network / browse-url-browser-function</span>

<span class="w">  </span><span class="p">)</span>

<span class="c1">;; denote-menu</span>
<span class="p">(</span><span class="nv">leaf</span><span class="w"> </span><span class="nv">denote-menu</span>
<span class="w">  </span><span class="nb">:after</span><span class="w"> </span><span class="nv">denote</span>
<span class="w">  </span><span class="nb">:init</span>
<span class="w">  </span><span class="p">(</span><span class="nv">general-my-map</span>
<span class="w">    </span><span class="s">&quot;nm&quot;</span><span class="w"> </span><span class="ss">&#39;list-denotes</span><span class="p">)</span>
<span class="w">  </span><span class="nb">:bind</span><span class="w"> </span><span class="p">(</span><span class="nv">denote-menu-mode-map</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;c&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">denote-menu-clear-filters</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;r&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">denote-menu-filter</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;k&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">denote-menu-filter-by-keyword</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;o&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">denote-menu-filter-out-keyword</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;/ r&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">denote-menu-filter</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;/ k&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">denote-menu-filter-by-keyword</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;/ o&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">denote-menu-filter-out-keyword</span><span class="p">)</span>
<span class="w">         </span><span class="p">(</span><span class="s">&quot;e&quot;</span><span class="w"> </span><span class="o">.</span><span class="w"> </span><span class="nv">denote-menu-export-to-dired</span><span class="p">))</span>
<span class="w">  </span><span class="nb">:config</span>
<span class="w">  </span><span class="p">(</span><span class="k">setq</span><span class="w"> </span><span class="nv">denote-menu-title-column-width</span><span class="w"> </span><span class="mi">50</span><span class="p">))</span>

<span class="c1">;;; set common keys</span>
<span class="c1">;; (general-my-map</span>
<span class="c1">;;   &quot;nN&quot; &#39;(:ignore t :which-key &quot;Favorites&quot;)</span>
<span class="c1">;;   &quot;nNn&quot; &#39;denote</span>
<span class="c1">;;   &quot;&quot;)</span>

<span class="p">(</span><span class="nb">provide</span><span class="w"> </span><span class="ss">&#39;my-to-sort</span><span class="p">)</span>
</code></pre></div>

<hr />
<p><em>Last updated: { git_revision_date_localized }</em></p>
</section>

<section id="mkdocs-terminal-after-content">
    
</section>

            </main>
        </div>
        <hr><footer>
    <div class="terminal-mkdocs-footer-grid">
        <div id="terminal-mkdocs-footer-copyright-info">
             Site built with <a href="http://www.mkdocs.org">MkDocs</a> and <a href="https://github.com/ntno/mkdocs-terminal">Terminal for MkDocs</a>.
        </div>
    </div>
</footer>
    </div>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="alertdialog" aria-modal="true" aria-labelledby="searchModalLabel">
    <div class="modal-dialog modal-lg" role="search">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="searchModalLabel">Search</h5>
                <button type="button" class="close btn btn-default btn-ghost" data-dismiss="modal"><span aria-hidden="true">x</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p id="searchInputLabel">Type to start searching</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" aria-labelledby="searchInputLabel" placeholder="" id="mkdocs-search-query" title="Please enter search terms here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No document matches found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    
    
</body>

</html>